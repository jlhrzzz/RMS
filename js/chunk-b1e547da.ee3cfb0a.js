(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1e547da"],{"566b":function(t,i,e){"use strict";e("cdb7")},cdb7:function(t,i,e){},ddcb:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("ul",{staticClass:"category"},[t._l(t.categorys,(function(i){return e("li",{key:i.id},[e("div",{staticClass:"icon"},[e("span",{staticClass:"iconfont",domProps:{innerHTML:t._s(i.icon)}}),e("span",{staticClass:"name"},[t._v(t._s(i.name))])]),e("div",{staticClass:"edit"},[e("span",{staticClass:"iconfont",on:{click:function(e){return t.del(i.id)}}},[t._v("")]),e("span",{staticClass:"iconfont",on:{click:function(e){return t.showDialog(i)}}},[t._v("")])])])})),e("li",{staticClass:"add",on:{click:function(i){return t.showDialog()}}},[e("span",{staticClass:"iconfont"},[t._v("")])])],2),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible,width:"30%",top:"30vh"},on:{"update:visible":function(i){t.dialogFormVisible=i}}},[e("el-form",{ref:"ruleForm",attrs:{model:t.form,"label-width":"auto",rules:t.rules}},[e("el-form-item",{attrs:{label:"名称",prop:"name"}},[e("el-input",{model:{value:t.form.name,callback:function(i){t.$set(t.form,"name",i)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"icon",prop:"icon"}},[e("el-input",{model:{value:t.form.icon,callback:function(i){t.$set(t.form,"icon",i)},expression:"form.icon"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){return t.cancel("ruleForm")}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.submit("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},n=[],s={data:function(){return{dialogTitle:"编辑分类",dialogFormVisible:!1,form:{},rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"}],icon:[{required:!0,message:"请输入图标对应的代码",trigger:"blur"}]}}},mounted:function(){this.$getCategory()},computed:{categorys:function(){return this.$store.getters.getCategory}},methods:{del:function(t){var i=this;this.$confirm("确认删除，删除后此分类下的所有菜品都将清空！").then((function(){i.$fetch({url:"/api/del_dish_cate",method:"POST",data:{id:t}}).then((function(t){return i.$store.commit("updateCategory",t.cate_lists)}))})).catch((function(){}))},showDialog:function(t){this.dialogFormVisible=!0,this.dialogTitle=t?"编辑分类":"添加分类",this.form=t||{}},cancel:function(t){this.dialogFormVisible=!1,this.$refs[t].resetFields()},submit:function(t){var i=this;this.$refs[t].validate().then((function(){i.form.id?i.addOrEdit("edit"):i.addOrEdit("add")})).catch((function(){}))},addOrEdit:function(t){var i=this;this.$fetch({url:"/api/"+t+"_dish_cate",method:"POST",data:this.form}).then((function(t){i.dialogFormVisible=!1,i.$store.commit("updateCategory",t.cate_lists)}))}}},a=s,r=(e("566b"),e("2877")),l=Object(r["a"])(a,o,n,!1,null,null,null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-b1e547da.ee3cfb0a.js.map